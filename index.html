<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ming’s Travel Blog</title>
<link rel="stylesheet" href="css/styles.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
</head>
<body>

<!-- 導覽列 -->
<nav class="navbar">
  <ul class="nav">
    <li><a href="index.html">Home</a></li>
    <li><a href="map.html">Map</a></li>
    <li class="dropdown" id="posts-menu">
      <a href="posts.html">Posts</a>
      <ul class="dropdown-menu" id="posts-dropdown"></ul>
    </li>
    <li><a href="about.html">About</a></li>
  </ul>
</nav>

<!-- Hero 浮動框 -->
<div class="hero-float">
  <h1>Ming’s Travel Blog</h1>
  <p>Slow travel across Europe — capturing moments, stories, and places.</p>

  <div class="hero-buttons">
    <a href="posts.html" class="btn hero-main">Explore Posts</a>
    <a href="map.html" class="btn hero-secondary">View Map</a>
  </div>
</div>

<!-- 背景地圖 -->
<div id="index-map" class="homepage-map"></div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="js/nav.js"></script>

<!-- 首頁地圖（靜態） -->
<script>
const map = L.map('index-map', {
  zoomControl: false,
  dragging: false,
  scrollWheelZoom: false,
  doubleClickZoom: false,
  boxZoom: false,
  keyboard: false,
}).setView([50, 10], 4);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png')
  .addTo(map);

fetch('data/posts.json')
  .then(r => r.json())
  .then(posts => {
    posts.forEach(p => {
      L.marker([p.lat, p.lng], {
        icon: L.icon({
          iconUrl: p.icon || 'images/markers/default.png',
          iconSize: [32, 32],
          iconAnchor: [16, 32]
        }),
        interactive: false
      }).addTo(map);
    });
  });
</script>

</body>
</html>
