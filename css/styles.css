/* ================================================= */
/* ğŸ¨ 1. Body & å…¨åŸŸåŸºç¤è¨­å®š                          */
/* ================================================= */
body {
  margin: 0;
  font-family: 'Poppins', system-ui, sans-serif;
  background: linear-gradient(
    135deg, 
    rgba(79, 70, 229, 0.8) 0%, 
    rgba(147, 51, 234, 0.8) 100%
  );
  color: #222;
  background-attachment: fixed;
  background-size: cover;
  background-repeat: no-repeat;
  min-height: 100vh;
}

/* ================================================= */
/* ğŸ§­ 2. å°è¦½åˆ—èˆ‡ç»ç’ƒè³ªæ„Ÿé¸å–® (æ ¸å¿ƒä¿®å¾©)              */
/* ================================================= */
.navbar {
  position: fixed;
  top: 0; left: 0; width: 100%;
  background: rgba(255, 255, 255, 0.75) !important; 
  backdrop-filter: blur(15px) !important;
  -webkit-backdrop-filter: blur(15px) !important;
  z-index: 10000;
  display: flex;
  justify-content: center;
  padding: 1rem 0;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.nav { list-style: none; display: flex; margin: 0; padding: 0; }
.nav > li { position: relative; margin: 0 20px; }

.nav a {
  text-decoration: none;
  color: #222;
  font-weight: 600;
  font-size: 1rem;
  padding: 8px 12px;
  display: block;
  transition: color 0.3s, transform 0.2s;
  position: relative;
}

.nav a::after {
  content: ''; position: absolute; left: 0; bottom: 0;
  width: 0%; height: 2px; background: #4f46e5; transition: width 0.3s;
}
.nav a:hover::after { width: 100%; }
.nav a:hover { color: #4f46e5; transform: scale(1.05); }

/* ä¸‹æ‹‰é¸å–®åŸºç¤ (ç»ç’ƒè³ªæ„Ÿ) */
.dropdown-menu, .sub-menu {
  background: rgba(255, 255, 255, 0.85) !important; 
  backdrop-filter: blur(12px) !important;
  -webkit-backdrop-filter: blur(12px) !important;
  border: 1px solid rgba(255, 255, 255, 0.4) !important;
  border-radius: 8px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.12);
  min-width: 180px;
  z-index: 10001;
  display: none; 
}

.dropdown:hover > .dropdown-menu { display: block !important; }
.dropdown-sub { position: relative; }
.dropdown-sub:hover > .sub-menu { display: block !important; }

/* é¸å–®é¸é …èˆ‡å¾®å‹•ç•« */
.dropdown-menu a, .sub-menu a {
  padding: 10px 16px !important;
  color: #222 !important;
  display: block !important;
  transition: all 0.3s ease !important;
  background: transparent !important;
  text-decoration: none;
}
.dropdown-menu a:hover, .sub-menu a:hover {
  background: rgba(79, 70, 229, 0.1) !important;
  color: #4f46e5 !important;
  padding-left: 20px !important;
}

/* ================================================= */
/* ğŸ—ºï¸ 3. é¦–é ã€åœ°åœ–èˆ‡ Hero å€åŸŸ                       */
/* ================================================= */
#home-map, #map {
  position: fixed !important;
  top: 0; left: 0; width: 100vw !important; height: 100vh !important;
  z-index: 1; filter: brightness(0.85); background-color: #222;
}

#map { top: 70px; height: calc(100vh - 70px); }

.hero-floating-map {
  position: absolute; top: 100px; left: 30px; z-index: 1000;
  width: 300px; padding: 1.5rem;
  background: rgba(255, 255, 255, 0.25); 
  backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 20px;
  pointer-events: none;
}

.hero-floating {
  position: fixed !important; top: 50% !important; left: 50% !important;
  transform: translate(-50%, -50%) !important; z-index: 9999 !important;
  width: 480px; max-width: 90%; padding: 2.5rem; text-align: center;
  background: linear-gradient(135deg, rgba(79, 70, 229, 0.2), rgba(147, 51, 234, 0.2)) !important;
  backdrop-filter: blur(5px) !important; border-radius: 24px; color: white;
}

/* ================================================= */
/* ğŸ–¼ï¸ 4. Post å…§é ï¼šä½ˆå±€èˆ‡å¹»ç‡ˆç‰‡                       */
/* ================================================= */
.post-layout {
  display: grid; grid-template-columns: 1fr 1fr; gap: 3rem;
  max-width: 1200px; margin: 6rem auto; padding: 2rem;
  position: relative; height: 80vh; align-items: center; overflow: hidden;
}

.post-layout::before {
  content: ''; position: absolute; inset: 0;
  background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(5px);
  border-radius: 16px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1); z-index: 0;
}

.post-gallery, .post-text { position: relative; z-index: 1; height: 100%; }

.gallery-frame {
  width: 100%; aspect-ratio: 4 / 3; position: relative; overflow: hidden;
  border-radius: 16px; background-size: cover; background-position: center;
}

.post-gallery img#gallery-img {
  width: 100%; height: 100%; object-fit: contain; position: relative; z-index: 2;
  backdrop-filter: blur(5px) brightness(0.75);
}

.gallery-btn {
  position: absolute; top: 50%; transform: translateY(-50%);
  background: rgba(255, 255, 255, 0.2); color: white; border-radius: 50%;
  width: 50px; height: 50px; font-size: 2rem; cursor: pointer; z-index: 3;
  transition: all 0.3s; display: flex; align-items: center; justify-content: center;
}
.gallery-btn:hover { background: rgba(255, 255, 255, 0.9); color: #4f46e5; }

/* æ–‡å­—å€å¡Šæ²å‹• */
.post-text {
  padding: 1rem 2.5rem 2.5rem 2.5rem; color: white;
  overflow-y: auto; scrollbar-width: thin;
}

.post-tabs {
  display: flex; gap: 0.5rem; margin-bottom: 1.5rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.3); padding-bottom: 0.5rem;
}

.post-tabs .tab.active {
  background: rgba(255, 255, 255, 0.2); color: white;
  border-bottom: 2px solid white;
}

/* æ˜Ÿæ˜Ÿåˆ—è¡¨ */
.post-tab-content li::before {
  content: 'â˜…'; position: absolute; left: 0; color: #fffb00;
  text-shadow: 0 0 8px rgba(255, 251, 0, 0.6);
}

/* ================================================= */
/* ğŸ“± 5. éŸ¿æ‡‰å¼æ•´åˆå€ (Tablet & Mobile)              */
/* ================================================= */

/* --- å¹³æ¿/æ‰‹æ©Ÿé€šç”¨å°è¦½é‚è¼¯ (992pxä»¥ä¸‹) --- */
@media screen and (max-width: 992px) {
  .dropdown-menu, .sub-menu {
    position: relative !important; width: 100% !important;
    top: 0 !important; left: 0 !important; transform: none !important;
    display: none; box-shadow: none !important;
  }

  .nav > li > .dropdown-menu {
    position: absolute !important; top: 100% !important; left: 50% !important;
    transform: translateX(-50%) !important; width: 90vw !important;
    max-width: 320px !important; display: none; background: white !important;
  }

  .menu-open { display: block !important; }

  .sub-menu {
    background: rgba(241, 245, 249, 0.1) !important;
    border-left: 4px solid #4f46e5 !important; margin: 5px 0 !important;
  }
  
  /* å°é¢å¡ç‰‡åœ¨æ‰‹æ©Ÿç‰ˆçš„ä½ç½®ä¿®æ­£ */
  .cover-overlay {
    bottom: auto !important; top: 60% !important;
    transform: translate(-50%, -50%) !important;
    width: 85% !important;
  }
}

/* --- æ‰‹æ©Ÿç‰ˆå°ˆå±¬å…§å®¹æ’ç‰ˆ (768pxä»¥ä¸‹) --- */
@media (max-width: 768px) {
  /* ğŸŒŸ å…¨æ–°æ‰‹æ©Ÿç‰ˆ Post æ’ç‰ˆï¼šå›ºå®šç›¸ç°¿ + å›ºå®šæ›¸ç±¤ + å…§å®¹æ»¾å‹• */
  .post-layout {
    grid-template-columns: 1fr !important;
    height: 92vh !important; /* é–å®šè¦–çª—é«˜åº¦ */
    margin: 4.5rem 0.8rem 0 0.8rem !important;
    padding: 0 !important;
    display: flex !important;
    flex-direction: column !important;
    overflow: hidden !important; /* ç¦æ­¢æ•´é å¤§æ»¾å‹• */
  }

  .post-gallery {
    flex: 0 0 38% !important; /* ç›¸ç°¿å›ºå®šä½” 38% é«˜åº¦ */
    width: 100% !important;
    z-index: 5 !important;
  }

  .post-text {
    flex: 1 !important; /* æ–‡å­—å€ä½”æ“šå‰©é¤˜ç©ºé–“ */
    display: flex !important;
    flex-direction: column !important;
    padding: 1.2rem !important;
    overflow: hidden !important; /* ç¦æ­¢å€å¡Šæœ¬èº«æ»¾å‹•ï¼Œè®“çµ¦å…§éƒ¨ content */
  }

  .post-tabs {
    flex: 0 0 auto !important; /* æ›¸ç±¤æ¬„å›ºå®šä¸ç¸®æ”¾ */
    overflow-x: auto !important;
    white-space: nowrap;
    margin-bottom: 1rem !important;
  }

  .post-tab-content {
    flex: 1 !important;
    overflow-y: auto !important; /* ğŸŒŸ åªæœ‰é€™è£¡å¯ä»¥æ»¾å‹• */
    padding-right: 5px;
    -webkit-overflow-scrolling: touch;
  }

  /* é—œé–‰æ‰‹æ©Ÿå‹•ç•«ç¢ºä¿æµæš¢ */
  .animate-entry {
    animation: none !important; opacity: 1 !important; transform: none !important;
  }
}

/* é€²å ´å‹•ç•«å®šç¾© */
@keyframes slideInFade {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-entry { opacity: 0; animation: slideInFade 0.8s ease-out forwards; }
